<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="헬스트래커 - 운동과 식사를 간편하게 기록하고 관리하는 모바일 웹앱">
    <meta name="theme-color" content="#2196F3">
    
    <!-- PWA 설정 -->
    <link rel="manifest" href="manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="헬스트래커">
    
    <!-- 아이콘 -->
    <link rel="apple-touch-icon" sizes="192x192" href="icons/icon-192.png">
    <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
    
    <title>헬스트래커</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- 헤더 -->
        <header class="app-header">
            <h1>헬스트래커</h1>
            <div class="date-display" id="currentDate"></div>
        </header>

        <!-- 탭 네비게이션 -->
        <nav class="tab-nav">
            <button class="tab-btn active" data-tab="exercise">운동 기록</button>
            <button class="tab-btn" data-tab="health">건강 기록</button>
            <button class="tab-btn" data-tab="history">히스토리</button>
        </nav>

        <!-- 탭 콘텐츠 -->
        <main class="tab-container">
            <!-- 운동 기록 탭 -->
            <div class="tab-content active" id="exercise-tab">
                <!-- 운동 목록 -->
                <section class="exercises-section">
                    <h2>운동 목록</h2>
                    <div class="exercise-list" id="exerciseList">
                        <!-- 운동 목록이 동적으로 추가됩니다 -->
                    </div>
                </section>
            </div>

            <!-- 건강 기록 탭 -->
            <div class="tab-content" id="health-tab">
                <!-- 식사 일기 -->
                <section class="meal-section">
                    <h2>식사 일기</h2>
                    <div class="meal-diary">
                        <textarea id="mealDiary" placeholder="새 줄을 시작하면 현재 시간이 자동으로 추가됩니다..."></textarea>
                        <div class="meal-buttons">
                            <button id="addMealTime" class="btn-secondary">시간 추가</button>
                            <button id="saveMeal" class="btn-primary">저장</button>
                        </div>
                    </div>
                </section>

                <!-- 건강 체크 -->
                <section class="health-check-section">
                    <h2>건강 체크</h2>
                    <div class="health-buttons">
                        <div class="health-item">
                            <button id="wakeUpBtn" class="health-btn">기상</button>
                            <span id="wakeUpTime" class="time-display">미기록</span>
                        </div>
                        <div class="health-item">
                            <button id="sleepBtn" class="health-btn">취침</button>
                            <span id="sleepTime" class="time-display">미기록</span>
                        </div>
                        <div class="health-item medicine-item">
                            <div class="medicine-section">
                                <div class="medicine-label">당뇨약 복용</div>
                                <div class="medicine-buttons">
                                    <div class="medicine-row">
                                        <button id="morningMedicineBtn" class="health-btn medicine-btn">오전</button>
                                        <span id="morningMedicineTime" class="time-display">미복용</span>
                                    </div>
                                    <div class="medicine-row">
                                        <button id="eveningMedicineBtn" class="health-btn medicine-btn">오후</button>
                                        <span id="eveningMedicineTime" class="time-display">미복용</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="health-item">
                            <div class="fasting-info">
                                <span>단식시간:</span>
                                <span id="fastingTime" class="time-display">계산중...</span>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- 히스토리 탭 -->
            <div class="tab-content" id="history-tab">
                <section class="history-section">
                    <h2>기록 히스토리</h2>
                    <div class="calendar-view" id="calendarView">
                        <!-- 캘린더가 동적으로 추가됩니다 -->
                    </div>
                    <div class="stats-view" id="statsView">
                        <h3>통계</h3>
                        <div class="stats-cards">
                            <div class="stat-card">
                                <div class="stat-title">이번 주 총 운동량</div>
                                <div class="stat-value" id="weeklyTotal">0</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-title">연속 운동 일수</div>
                                <div class="stat-value" id="streakDays">0</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-title">평균 일일 운동량</div>
                                <div class="stat-value" id="dailyAvg">0</div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- 운동 카운터 모달 -->
    <div id="exerciseModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="exerciseTitle">운동명</h3>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <div class="counter-display">
                <div class="count-number" id="currentCount">0</div>
                <div class="count-label">회</div>
            </div>
            <div class="counter-buttons">
                <button class="count-btn" data-increment="1">+1</button>
                <button class="count-btn" data-increment="10">+10</button>
                <button class="count-btn" data-increment="20">+20</button>
                <button class="count-btn" data-increment="30">+30</button>
                <button class="count-btn" data-increment="50">+50</button>
            </div>
            <div class="modal-actions">
                <button id="resetCount" class="btn-secondary">초기화</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>